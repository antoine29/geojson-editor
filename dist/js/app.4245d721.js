webpackJsonp([1],{"+VGo":function(e,t){},"+skl":function(e,t){},0:function(e,t,r){e.exports=r("NHnr")},"2zNe":function(e,t){},"3iLR":function(e,t){},"4/hK":function(e,t){},EYnv:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("/5sW"),o=r("nrd6"),i=r.n(o),s=(r("EYnv"),r("jU7J"),r("NYxO"));n["default"].use(s["a"]);var a=new s["a"].Store({state:{selectedProperties:null,requiresParseFixing:!1,requiresWindingOrderFix:!1,geojson:'{\n  "type": "FeatureCollection",\n  "features": []\n}'},mutations:{setGeoJSON:function(e,t){"string"!==typeof t&&(t=JSON.stringify(t,null,2)),e.geojson=t},setSelectedProperties:function(e,t){e.selectedProperties=t},setRequiresParsingFix:function(e,t){e.requiresParseFixing=t},setRequiresWindingOrderFix:function(e,t){e.requiresWindingOrderFix=t}},getters:{featureCount:function(e){var t=JSON.parse(e.geojson);return"FeatureCollection"===t.type?t.features.length:"GeometryCollection"===t.type?t.geometrieslength:"Feature"===t.type?1:"Polygon"===t.type||"LineString"===t.type?1:0}}});r("GMVP");var c=null,u=null;function l(){u=i.a.map("map").setView([0,0],2),i.a.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:"abcd",maxZoom:19}).addTo(u),c=i.a.geoJSON(null,{style:function(){return{color:"#4F5D75"}}}).addTo(u),u.addControl(new i.a.Control.Draw({edit:{featureGroup:c,poly:{allowIntersection:!1}},draw:{polygon:{allowIntersection:!1},circlemarker:!1,circle:!1}})),u.on(i.a.Draw.Event.CREATED,function(e){c.addLayer(e.layer),d(c.toGeoJSON())}),u.on(i.a.Draw.Event.EDITED,function(){d(c.toGeoJSON())}),u.on(i.a.Draw.Event.DELETED,function(){d(c.toGeoJSON())})}function d(e){a.commit("setGeoJSON",e)}function p(e){c.clearLayers(),c.addData(e),u.fitBounds(c.getBounds())}var f={name:"LeafletMap",mounted:function(){l()}},m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Col",{staticClass:"mapContainer",attrs:{span:"14"}},[r("div",{attrs:{id:"map"}})])},h=[],g=r("XyMi");function v(e){r("Vdai")}var C=!1,x=v,y=null,O=null,b=Object(g["a"])(f,m,h,C,x,y,O),w=b.exports,E=(r("CvWX"),r("E5Az")),F=(r("4/hK"),r("x15G"),r("aGTD"),r("5IAE"),r("OTZJ")),_=(r("lDdF"),{name:"CodeArea",data:function(){return{errorLines:[],requiresParseFixing:!1,errors:{},cmOptions:{tabSize:2,cursorScrollMargin:50,mode:"text/javascript",styleActiveLine:!0,lineNumbers:!0,line:!0}}},computed:{code:function(){return this.$store.state.geojson}},methods:{onCmCodeChange:function(e){this.cleanErrorMarks(),this.errorLines=[],this.errors=F.hint(e),this.errors.forEach(function(e){e.message.startsWith("Parse error")?this.$store.commit("setRequiresParsingFix",!0):e.message.startsWith("Polygons and MultiPolygons")?this.$store.commit("setRequiresWindingOrderFix",!0):this.$store.commit("setRequiresParsingFix",!1),this.errorLines.push(e.line)},this),0===this.errors.length&&p(JSON.parse(e)),e!==this.code&&this.$store.commit("setGeoJSON",e),this.markErrors()},markErrors:function(){this.errors.forEach(function(e){this.$refs.myCm.codemirror.doc.addLineClass(e.line+1,"gutter","geojsonError")},this)},cleanErrorMarks:function(){this.errorLines.forEach(function(e){this.$refs.myCm.codemirror.doc.removeLineClass(e+1,"gutter","geojsonError")},this)}},components:{codemirror:E["codemirror"]}}),$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",{staticClass:"codeArea"},[r("codemirror",{ref:"myCm",attrs:{value:e.code,options:e.cmOptions},on:{input:e.onCmCodeChange}})],1)},j=[];function P(e){r("yeeo")}var S=!1,D=P,M=null,N=null,k=Object(g["a"])(_,$,j,S,D,M,N),J=k.exports,q=(r("VjuZ"),r("acE3")),G={name:"TopMenu",computed:{doesntRequireParseFixing:function(){return!this.$store.state.requiresParseFixing},doesntRequireWindingFixing:function(){return!this.$store.state.requiresWindingOrderFix},featureCount:function(){return this.$store.getters.featureCount}},methods:{clearFeatures:function(){this.$store.commit("setGeoJSON",{type:"FeatureCollection",features:[]})},handleClick:function(e){"addMarks"===e&&this.addMarks(),"fixWindingOrder"===e&&this.fixWindingOrder()},addMarks:function(){var e=this.$store.state.geojson.replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:([^\/])/g,'"$2":$4');this.$store.commit("setRequiresParsingFix",!1),this.$store.commit("setGeoJSON",e)},fixWindingOrder:function(){var e=Object(q["a"])(JSON.parse(this.$store.state.geojson));this.$store.commit("setGeoJSON",e),this.$store.commit("setRequiresWindingOrderFix",!1)}}},R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",{staticClass:"topMenu"},[r("Dropdown",{attrs:{placement:"bottom-start"},on:{"on-click":e.handleClick}},[r("a",{attrs:{href:"javascript:void(0)"}},[r("Button",{staticClass:"topBtn"},[e._v("\n          Fix Errors\n          "),r("Icon",{attrs:{type:"arrow-down-b"}})],1)],1),r("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[r("DropdownItem",{attrs:{name:"addMarks",disabled:e.doesntRequireParseFixing}},[e._v("Fix Quotation Marks on Keys")]),r("DropdownItem",{attrs:{name:"fixWindingOrder",disabled:e.doesntRequireWindingFixing}},[e._v("Fix Winding Order")])],1)],1),r("Button",{staticClass:"topBtn right",on:{click:e.clearFeatures}},[e._v("\n    Clear "+e._s(e.featureCount)+" "+e._s(e.featureCount>1?"features":"feature")+"\n  ")])],1)},W=[];function B(e){r("YYww")}var L=!1,T=B,I=null,A=null,V=Object(g["a"])(G,R,W,L,T,I,A),Y=V.exports,z=r("lDdF"),Z={name:"BottomMenu",methods:{copy:function(){var e=document.createElement("textarea");e.value=this.$store.state.geojson,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.$Notice.open({title:"Copied to clipboard",duration:2.5})},save:function(){var e=new File([this.code],"exported.geojson",{type:"text/plain;charset=utf-8"});z.saveAs(e)}}},K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",{staticClass:"bottomMenu"},[r("Button",{staticClass:"pad",on:{click:e.copy}},[e._v("Copy to clipboard")]),r("ButtonGroup",[r("Button",{on:{click:e.save}},[e._v("Save as geojson")]),r("Dropdown",{attrs:{trigger:"click",placement:"top-end"}},[r("a",{attrs:{href:"javascript:void(0)"}},[r("Button",{attrs:{icon:"arrow-up-b"}})],1),r("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[r("DropdownItem",[e._v("Shapefile")]),r("DropdownItem",[e._v("WKT")]),r("DropdownItem",[e._v("TopoJSON")])],1)],1)],1)],1)},H=[];function Q(e){r("ZBVo")}var U=!1,X=Q,ee=null,te=null,re=Object(g["a"])(Z,K,H,U,X,ee,te),ne=re.exports,oe={name:"Sidebar",components:{CodeArea:J,BottomMenu:ne,TopMenu:Y}},ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Col",{staticClass:"sidebar",attrs:{span:"10"}},[r("top-menu"),r("code-area"),r("bottom-menu")],1)},se=[];function ae(e){r("2zNe")}var ce=!1,ue=ae,le=null,de=null,pe=Object(g["a"])(oe,ie,se,ce,ue,le,de),fe=pe.exports,me={name:"Properties",computed:{selectedProperties:function(){return this.$store.state.selectedProperties}}},he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return null!==e.selectedProperties?r("div",{staticClass:"featureProperties leaflet-bar"},[r("h3",[e._v("Feature Properties")])]):e._e()},ge=[];function ve(e){r("3iLR")}var Ce=!1,xe=ve,ye=null,Oe=null,be=Object(g["a"])(me,he,ge,Ce,xe,ye,Oe),we=be.exports,Ee={name:"app",store:a,components:{Map:w,Sidebar:fe,Properties:we}},Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",{attrs:{id:"app"}},[r("Map"),r("Sidebar")],1)},_e=[];function $e(e){r("+VGo")}var je=!1,Pe=$e,Se=null,De=null,Me=Object(g["a"])(Ee,Fe,_e,je,Pe,Se,De),Ne=Me.exports,ke=r("BTaQ"),Je=r.n(ke);r("+skl");n["default"].use(Je.a),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(Ne)}}).$mount("#app")},Vdai:function(e,t){},YYww:function(e,t){},ZBVo:function(e,t){},jU7J:function(e,t){},x15G:function(e,t){},yeeo:function(e,t){}},[0]);
//# sourceMappingURL=app.4245d721.js.map